# å¤©ç©ºè“åšå®¢

ä¸€ä¸ªç°ä»£åŒ–ã€å“åº”å¼çš„ä¸ªäººé™æ€åšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨ Vue 3 + Vite æ„å»ºï¼Œéƒ¨ç½²åœ¨ Cloudflare Pages ä¸Šï¼Œä½¿ç”¨ Cloudflare KV ä½œä¸ºæ•°æ®å­˜å‚¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

### å‰å°åŠŸèƒ½
- ğŸ  é¦–é¡µæ–‡ç« å¡ç‰‡å±•ç¤º
- ğŸ“– æ–‡ç« è¯¦æƒ…é¡µï¼ˆMarkdown æ¸²æŸ“ï¼‰
- ğŸ’¬ è¯„è®ºç³»ç»Ÿ
- ğŸ“‚ åˆ†ç±»å’Œæ ‡ç­¾æµè§ˆ
- ğŸ” æ–‡ç« æœç´¢
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

### åå°åŠŸèƒ½
- ğŸ” ç®¡ç†å‘˜ç™»å½•ï¼ˆToken éªŒè¯ï¼‰
- ğŸ“ æ–‡ç« ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- ğŸ’¬ è¯„è®ºç®¡ç†
- ğŸ·ï¸ åˆ†ç±»/æ ‡ç­¾ç®¡ç†
- âš™ï¸ ç³»ç»Ÿé…ç½®

### æŠ€æœ¯ç‰¹æ€§
- ğŸš€ åŸºäº Vue 3 + Vite æ„å»º
- â˜ï¸ éƒ¨ç½²åœ¨ Cloudflare Pages
- ğŸ’¾ ä½¿ç”¨ Cloudflare KV å­˜å‚¨æ•°æ®
- ğŸ“± PWA æ”¯æŒï¼ˆå¯å®‰è£…ä¸º Web Appï¼‰
- ğŸ¨ ç°ä»£åŒ– UI è®¾è®¡ï¼ˆå¤©ç©ºè“ä¸»é¢˜ï¼‰

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router
- **æ ·å¼**: CSS3 + CSS å˜é‡
- **Markdown æ¸²æŸ“**: markdown-it
- **éƒ¨ç½²å¹³å°**: Cloudflare Pages
- **æ•°æ®å­˜å‚¨**: Cloudflare KV
- **PWA**: Workbox + Vite PWA æ’ä»¶

## æœ¬åœ°å¼€å‘

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16
- npm æˆ– yarn

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼

#### ä»…å‰ç«¯å¼€å‘ï¼ˆé»˜è®¤ Vite å¼€å‘æœåŠ¡å™¨ï¼‰
```bash
npm run dev
```

#### å‰ç«¯ + æ¨¡æ‹Ÿ API æœåŠ¡å™¨ï¼ˆæ¨èï¼‰
```bash
npm run dev:both
```

è¿™å°†åŒæ—¶å¯åŠ¨ï¼š
- Vite å¼€å‘æœåŠ¡å™¨ï¼ˆhttp://localhost:3000ï¼‰
- æ¨¡æ‹Ÿ API æœåŠ¡å™¨ï¼ˆhttp://localhost:3001ï¼‰

è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [LOCAL_DEVELOPMENT.md](LOCAL_DEVELOPMENT.md)ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º
```bash
npm run preview
```

## éƒ¨ç½²åˆ° Cloudflare Pages

1. å°†ä»£ç æ¨é€åˆ° GitHub/GitLab
2. åœ¨ Cloudflare Pages æ§åˆ¶å°åˆ›å»ºæ–°é¡¹ç›®
3. è¿æ¥æ‚¨çš„ Git ä»“åº“
4. è®¾ç½®æ„å»ºé…ç½®ï¼š
   - æ„å»ºå‘½ä»¤: `npm run build`
   - æ„å»ºè¾“å‡ºç›®å½•: `dist`
5. ç»‘å®š KV Namespace:
   - å˜é‡åç§°: `BLOG_DATA`
   - KV namespace: (é€‰æ‹©æˆ–åˆ›å»ºä¸€ä¸ª KV namespace)

## Cloudflare KV æ•°æ®ç»“æ„

### æ–‡ç« 
- Key: `articles:{id}`
- Value: æ–‡ç«  JSON å¯¹è±¡

### è¯„è®º
- Key: `comments:{articleId}`
- Value: è¯„è®ºæ•°ç»„

### åˆ†ç±»
- Key: `categories`
- Value: åˆ†ç±»æ•°ç»„

### æ ‡ç­¾
- Key: `tags`
- Value: æ ‡ç­¾æ•°ç»„

### é…ç½®
- Key: `config`
- Value: é…ç½®å¯¹è±¡

## PWA åŠŸèƒ½

æœ¬åšå®¢æ”¯æŒ PWAï¼ˆæ¸è¿›å¼ Web åº”ç”¨ï¼‰ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š
- å¯å®‰è£…ä¸ºæ¡Œé¢/ç§»åŠ¨åº”ç”¨
- ç¦»çº¿è®¿é—®ç¼“å­˜çš„æ–‡ç« 
- åå°è‡ªåŠ¨æ›´æ–°
- å“åº”å¼è®¾è®¡é€‚é…å„ç§è®¾å¤‡

## ç›®å½•ç»“æ„

```
.
â”œâ”€â”€ src/                 # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ assets/          # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/      # Vue ç»„ä»¶
â”‚   â”œâ”€â”€ router/          # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ stores/          # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/           # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ views/           # é¡µé¢è§†å›¾
â”œâ”€â”€ functions/           # Cloudflare Functions
â”œâ”€â”€ public/              # é™æ€å…¬å…±èµ„æº
â”‚   â””â”€â”€ _routes.json     # Cloudflare Pages è·¯ç”±é…ç½®
â””â”€â”€ dist/                # æ„å»ºè¾“å‡ºç›®å½•
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `src/views/` ä¸­åˆ›å»ºæ–°é¡µé¢ç»„ä»¶
2. åœ¨ `src/router/index.ts` ä¸­æ·»åŠ è·¯ç”±
3. å¦‚éœ€ API æ”¯æŒï¼Œåœ¨ `functions/` ä¸­æ·»åŠ ç›¸åº”çš„å‡½æ•°

### è‡ªå®šä¹‰ä¸»é¢˜
- ä¿®æ”¹ `src/assets/css/main.css` ä¸­çš„ CSS å˜é‡
- æ›´æ–° `public/manifest.json` ä¸­çš„ä¸»é¢˜é¢œè‰²

## æ•…éšœæ’é™¤

### API è¯·æ±‚å¤±è´¥

å¦‚æœéƒ¨ç½²åé‡åˆ° `SyntaxError: Unexpected token '<'` é”™è¯¯ï¼Œé€šå¸¸æ˜¯ç”±äº API è¯·æ±‚æ²¡æœ‰æ­£ç¡®è·¯ç”±åˆ° Cloudflare Functionsã€‚è¯·ç¡®ä¿ï¼š

1. `public/_routes.json` æ–‡ä»¶å­˜åœ¨ä¸”é…ç½®æ­£ç¡®
2. Cloudflare Pages é¡¹ç›®å·²æ­£ç¡®ç»‘å®š KV Namespace
3. Functions æ–‡ä»¶ç»“æ„æ­£ç¡®

è¯¦ç»†çš„é—®é¢˜è§£å†³æ–¹æ³•è¯·å‚è€ƒ [DEPLOYMENT_ISSUES.md](DEPLOYMENT_ISSUES.md) æ–‡ä»¶ã€‚

### PWA åŠŸèƒ½é—®é¢˜

1. æ£€æŸ¥ `manifest.json` æ˜¯å¦æ­£ç¡®é…ç½®
2. ç¡®ä¿ Service Worker æ–‡ä»¶å­˜åœ¨ä¸”æ­£ç¡®
3. éªŒè¯ HTTPS æ˜¯å¦å·²å¯ç”¨ï¼ˆCloudflare Pages è‡ªåŠ¨æä¾› HTTPSï¼‰

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ– Pull Requestã€‚